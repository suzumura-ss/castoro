h1. castoro-pgctl

castoro-pgctl is a subsystem to remotely control peer groups of Castoro.

h2. Installation

<pre>
gem uninstall castoro-pgctl
gem install --no-rdoc --no-ri castoro-pgctl-0.0.2.gem
cd /usr/local/lib/ruby/gems/1.9.1/gems/castoro-pgctl-0.0.2/etc/init.d
make install
cd /usr/local/lib/ruby/gems/1.9.1/gems/castoro-pgctl-0.0.2/etc/castoro
cp pgctl.conf-sample-ja.conf /etc/castoro/pgctl.conf
vi /etc/castoro/pgctl.conf
/etc/init.d/cstartd start
/etc/init.d/cagentd start
</pre>


h2. User Scenarios

h3. Starting every peer of the peer group

<pre>
pgctl startall peer000 peer001 peer002
[ 2012-05-31 17:28:04 +0900  Daemon processes ]
HOSTNAME      DAEMON             UID   PID  PPID   C    STIME TTY         TIME CMD
peer000       cmond         
peer000       cpeerd        
peer000       crepd         
peer000       manipulatord  

peer001       cmond         
peer001       cpeerd        
peer001       crepd         
peer001       manipulatord  

peer002       cmond         
peer002       cpeerd        
peer002       crepd         
peer002       manipulatord  

[ 2012-05-31 17:28:05 +0900  Starting daemons ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         status=0 Starting cmond ... OK 
peer000       cpeerd        status=0 2012-05-31T17:28:08+09:00.530745 peer000 NOTICE Loading configration file: /etc/castoro/peer.conf Starting cpeerd ... OK 
peer000       crepd         status=0 2012-05-31T17:28:07+09:00.351909 peer000 NOTICE Loading configration file: /etc/castoro/peer.conf Starting crepd ... OK 
peer000       manipulatord  status=0 Start Castoro-Manipulator ... *** Starting Castoro::Manipulator daemon... *** done.

peer001       cmond         status=0 Starting cmond ... OK Invalid gemspec in [/usr/local/lib/ruby/gems/1.9.1/specifications/json-1.6.1.gemspec]: invalid date format in specification: "2011-09-18 00:00:00.000000000Z"
peer001       cpeerd        status=0 2012-05-31T17:28:08+09:00.477060 peer001 NOTICE Loading configration file: /etc/castoro/peer.conf Starting cpeerd ... OK Invalid gemspec in [/usr/local/lib/ruby/gems/1.9.1/specifications/json-1.6.1.gemspec]: invalid date format in specification: "2011-09-18 00:00:00.000000000Z"
peer001       crepd         status=0 2012-05-31T17:28:08+09:00.468757 peer001 NOTICE Loading configration file: /etc/castoro/peer.conf Starting crepd ... OK Invalid gemspec in [/usr/local/lib/ruby/gems/1.9.1/specifications/json-1.6.1.gemspec]: invalid date format in specification: "2011-09-18 00:00:00.000000000Z"
peer001       manipulatord  status=0 Start Castoro-Manipulator ... Invalid gemspec in [/usr/local/lib/ruby/gems/1.9.1/specifications/json-1.6.1.gemspec]: invalid date format in specification: "2011-09-18 00:00:00.000000000Z" *** Starting Castoro::Manipulator daemon... *** done.

peer002       cmond         status=0 Starting cmond ... OK Invalid gemspec in [/usr/local/lib/ruby/gems/1.9.1/specifications/json-1.6.1.gemspec]: invalid date format in specification: "2011-09-18 00:00:00.000000000Z"
peer002       cpeerd        status=0 2012-05-31T17:28:08+09:00.304384 peer002 NOTICE Loading configration file: /etc/castoro/peer.conf Starting cpeerd ... OK Invalid gemspec in [/usr/local/lib/ruby/gems/1.9.1/specifications/json-1.6.1.gemspec]: invalid date format in specification: "2011-09-18 00:00:00.000000000Z"
peer002       crepd         status=0 2012-05-31T17:28:07+09:00.017187 peer002 NOTICE Loading configration file: /etc/castoro/peer.conf Starting crepd ... OK Invalid gemspec in [/usr/local/lib/ruby/gems/1.9.1/specifications/json-1.6.1.gemspec]: invalid date format in specification: "2011-09-18 00:00:00.000000000Z"
peer002       manipulatord  status=0 Start Castoro-Manipulator ... Invalid gemspec in [/usr/local/lib/ruby/gems/1.9.1/specifications/json-1.6.1.gemspec]: invalid date format in specification: "2011-09-18 00:00:00.000000000Z" *** Starting Castoro::Manipulator daemon... *** done.

[ 2012-05-31 17:28:12 +0900  Daemon processes ]
HOSTNAME      DAEMON             UID   PID  PPID   C    STIME TTY         TIME CMD
peer000       cmond            quanp 16107  4604   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cmond
peer000       cpeerd           quanp 16117  4604   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer000       crepd            quanp 16098  4604   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer000       manipulatord      root 16096  4604   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

peer001       cmond            quanp 16101 11545   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cmond
peer001       cpeerd           quanp 16119 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer001       crepd            quanp 16115 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer001       manipulatord      root 16094 11545   0 17:28:07 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

peer002       cmond            quanp 16114 11970   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cmond
peer002       cpeerd           quanp 16108 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer002       crepd            quanp 16103 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer002       manipulatord      root 16100 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

[ 2012-05-31 17:28:15 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       10 offline    auto          off           
peer000       cpeerd        running       10 offline    auto          off           
peer000       crepd         running       10 offline    auto          off           
peer000       manipulatord  running                                                 

peer001       cmond         running       10 offline    auto          off           
peer001       cpeerd        running       10 offline    auto          off           
peer001       crepd         running       10 offline    auto          off           
peer001       manipulatord  running                                                 

peer002       cmond         running       10 offline    auto          off           
peer002       cpeerd        running       10 offline    auto          off           
peer002       crepd         running       10 offline    auto          off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:28:16 +0900  Turning the autopilot off ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         Autopilot has changed from auto to off
peer000       cpeerd        Autopilot has changed from auto to off
peer000       crepd         Autopilot has changed from auto to off
peer000       manipulatord  

peer001       cmond         Autopilot has changed from auto to off
peer001       cpeerd        Autopilot has changed from auto to off
peer001       crepd         Autopilot has changed from auto to off
peer001       manipulatord  

peer002       cmond         Autopilot has changed from auto to off
peer002       cpeerd        Autopilot has changed from auto to off
peer002       crepd         Autopilot has changed from auto to off
peer002       manipulatord  

[ 2012-05-31 17:28:18 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       10 offline    off           off           
peer000       cpeerd        running       10 offline    off           off           
peer000       crepd         running       10 offline    off           off           
peer000       manipulatord  running                                                 

peer001       cmond         running       10 offline    off           off           
peer001       cpeerd        running       10 offline    off           off           
peer001       crepd         running       10 offline    off           off           
peer001       manipulatord  running                                                 

peer002       cmond         running       10 offline    off           off           
peer002       cpeerd        running       10 offline    off           off           
peer002       crepd         running       10 offline    off           off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:28:21 +0900  Ascending the mode to 30 online ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         Mode has changed from 10 offline to 30 online
peer000       cpeerd        Mode has changed from 10 offline to 30 online
peer000       crepd         Mode has changed from 10 offline to 30 online
peer000       manipulatord  

peer001       cmond         Mode has changed from 10 offline to 30 online
peer001       cpeerd        Mode has changed from 10 offline to 30 online
peer001       crepd         Mode has changed from 10 offline to 30 online
peer001       manipulatord  

peer002       cmond         Mode has changed from 10 offline to 30 online
peer002       cpeerd        Mode has changed from 10 offline to 30 online
peer002       crepd         Mode has changed from 10 offline to 30 online
peer002       manipulatord  

[ 2012-05-31 17:28:23 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       30 online     off           off           
peer000       cpeerd        running       30 online     off           off           
peer000       crepd         running       30 online     off           off           
peer000       manipulatord  running                                                 

peer001       cmond         running       30 online     off           off           
peer001       cpeerd        running       30 online     off           off           
peer001       crepd         running       30 online     off           off           
peer001       manipulatord  running                                                 

peer002       cmond         running       30 online     off           off           
peer002       cpeerd        running       30 online     off           off           
peer002       crepd         running       30 online     off           off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:28:25 +0900  Turning the autopilot auto ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         Autopilot has changed from off to auto
peer000       cpeerd        Autopilot has changed from off to auto
peer000       crepd         Autopilot has changed from off to auto
peer000       manipulatord  

peer001       cmond         Autopilot has changed from off to auto
peer001       cpeerd        Autopilot has changed from off to auto
peer001       crepd         Autopilot has changed from off to auto
peer001       manipulatord  

peer002       cmond         Autopilot has changed from off to auto
peer002       cpeerd        Autopilot has changed from off to auto
peer002       crepd         Autopilot has changed from off to auto
peer002       manipulatord  

[ 2012-05-31 17:28:28 +0900  Daemon processes ]
HOSTNAME      DAEMON             UID   PID  PPID   C    STIME TTY         TIME CMD
peer000       cmond            quanp 16107  4604   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cmond
peer000       cpeerd           quanp 16117  4604   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer000       crepd            quanp 16098  4604   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer000       manipulatord      root 16096  4604   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

peer001       cmond            quanp 16101 11545   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cmond
peer001       cpeerd           quanp 16119 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer001       crepd            quanp 16115 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer001       manipulatord      root 16094 11545   0 17:28:07 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

peer002       cmond            quanp 16114 11970   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cmond
peer002       cpeerd           quanp 16108 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer002       crepd            quanp 16103 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer002       manipulatord      root 16100 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

[ 2012-05-31 17:28:28 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       30 online     auto          off           
peer000       cpeerd        running       30 online     auto          off           
peer000       crepd         running       30 online     auto          off           
peer000       manipulatord  running                                                 

peer001       cmond         running       30 online     auto          off           
peer001       cpeerd        running       30 online     auto          off           
peer001       crepd         running       30 online     auto          off           
peer001       manipulatord  running                                                 

peer002       cmond         running       30 online     auto          off           
peer002       cpeerd        running       30 online     auto          off           
peer002       crepd         running       30 online     auto          off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:28:31 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       30 online     auto          off           
peer000       cpeerd        running       30 online     auto          off           
peer000       crepd         running       30 online     auto          off           
peer000       manipulatord  running                                                 

peer001       cmond         running       30 online     auto          off           
peer001       cpeerd        running       30 online     auto          off           
peer001       crepd         running       30 online     auto          off           
peer001       manipulatord  running                                                 

peer002       cmond         running       30 online     auto          off           
peer002       cpeerd        running       30 online     auto          off           
peer002       crepd         running       30 online     auto          off           
peer002       manipulatord  running                                                 


Succeeded:
 pgctl startall peer000 peer001 peer002

</pre>

h3. Getting ps command outputs

<pre>
$ pgctl ps peer000 peer001 peer002
[ 2012-05-31 17:30:46 +0900  Daemon processes ]
HOSTNAME      DAEMON             UID   PID  PPID   C    STIME TTY         TIME CMD
peer000       cmond            quanp 16107  4604   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cmond
peer000       cpeerd           quanp 16117  4604   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer000       crepd            quanp 16098  4604   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer000       manipulatord      root 16096  4604   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

peer001       cmond            quanp 16101 11545   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cmond
peer001       cpeerd           quanp 16119 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer001       crepd            quanp 16115 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer001       manipulatord      root 16094 11545   0 17:28:07 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

peer002       cmond            quanp 16114 11970   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cmond
peer002       cpeerd           quanp 16108 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer002       crepd            quanp 16103 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer002       manipulatord      root 16100 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma


Succeeded:
 pgctl ps peer000 peer001 peer002

</pre>

h3. Getting the status of peer group

<pre>
$ pgctl status peer000 peer001 peer002
[ 2012-05-31 17:31:15 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       30 online     auto          off           
peer000       cpeerd        running       30 online     auto          off           
peer000       crepd         running       30 online     auto          off           
peer000       manipulatord  running                                                 

peer001       cmond         running       30 online     auto          off           
peer001       cpeerd        running       30 online     auto          off           
peer001       crepd         running       30 online     auto          off           
peer001       manipulatord  running                                                 

peer002       cmond         running       30 online     auto          off           
peer002       cpeerd        running       30 online     auto          off           
peer002       crepd         running       30 online     auto          off           
peer002       manipulatord  running                                                 


Succeeded:
 pgctl status peer000 peer001 peer002

</pre>

h3. Stopping the only peer

<pre>
$ pgctl stop peer000 peer001 peer002
[ 2012-05-31 17:32:02 +0900  Daemon processes ]
HOSTNAME      DAEMON             UID   PID  PPID   C    STIME TTY         TIME CMD
peer000       cmond            quanp 16107  4604   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cmond
peer000       cpeerd           quanp 16117  4604   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer000       crepd            quanp 16098  4604   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer000       manipulatord      root 16096  4604   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

peer001       cmond            quanp 16101 11545   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cmond
peer001       cpeerd           quanp 16119 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer001       crepd            quanp 16115 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer001       manipulatord      root 16094 11545   0 17:28:07 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

peer002       cmond            quanp 16114 11970   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cmond
peer002       cpeerd           quanp 16108 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer002       crepd            quanp 16103 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer002       manipulatord      root 16100 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

[ 2012-05-31 17:32:03 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       30 online     auto          off           
peer000       cpeerd        running       30 online     auto          off           
peer000       crepd         running       30 online     auto          off           
peer000       manipulatord  running                                                 

peer001       cmond         running       30 online     auto          off           
peer001       cpeerd        running       30 online     auto          off           
peer001       crepd         running       30 online     auto          off           
peer001       manipulatord  running                                                 

peer002       cmond         running       30 online     auto          off           
peer002       cpeerd        running       30 online     auto          off           
peer002       crepd         running       30 online     auto          off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:32:04 +0900  Turning the autopilot off ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         Autopilot has changed from auto to off
peer000       cpeerd        Autopilot has changed from auto to off
peer000       crepd         Autopilot has changed from auto to off
peer000       manipulatord  

peer001       cmond         Autopilot has changed from auto to off
peer001       cpeerd        Autopilot has changed from auto to off
peer001       crepd         Autopilot has changed from auto to off
peer001       manipulatord  

peer002       cmond         Autopilot has changed from auto to off
peer002       cpeerd        Autopilot has changed from auto to off
peer002       crepd         Autopilot has changed from auto to off
peer002       manipulatord  

[ 2012-05-31 17:32:06 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       30 online     off           off           
peer000       cpeerd        running       30 online     off           off           
peer000       crepd         running       30 online     off           off           
peer000       manipulatord  running                                                 

peer001       cmond         running       30 online     off           off           
peer001       cpeerd        running       30 online     off           off           
peer001       crepd         running       30 online     off           off           
peer001       manipulatord  running                                                 

peer002       cmond         running       30 online     off           off           
peer002       cpeerd        running       30 online     off           off           
peer002       crepd         running       30 online     off           off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:32:09 +0900  Descending the mode to 25 fin_rep ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         Mode has changed from 30 online to 25 fin_rep
peer000       cpeerd        Mode has changed from 30 online to 25 fin_rep
peer000       crepd         Mode has changed from 30 online to 25 fin_rep
peer000       manipulatord  

peer001       cmond         Mode has changed from 30 online to 25 fin_rep
peer001       cpeerd        Mode has changed from 30 online to 25 fin_rep
peer001       crepd         Mode has changed from 30 online to 25 fin_rep
peer001       manipulatord  

peer002       cmond         Mode has changed from 30 online to 25 fin_rep
peer002       cpeerd        Mode has changed from 30 online to 25 fin_rep
peer002       crepd         Mode has changed from 30 online to 25 fin_rep
peer002       manipulatord  

[ 2012-05-31 17:32:11 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       25 fin_rep    off           off           
peer000       cpeerd        running       25 fin_rep    off           off           
peer000       crepd         running       25 fin_rep    off           off           
peer000       manipulatord  running                                                 

peer001       cmond         running       25 fin_rep    off           off           
peer001       cpeerd        running       25 fin_rep    off           off           
peer001       crepd         running       25 fin_rep    off           off           
peer001       manipulatord  running                                                 

peer002       cmond         running       25 fin_rep    off           off           
peer002       cpeerd        running       25 fin_rep    off           off           
peer002       crepd         running       25 fin_rep    off           off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:32:14 +0900  Descending the mode to 23 rep ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         Mode has changed from 25 fin_rep to 23 rep
peer000       cpeerd        Mode has changed from 25 fin_rep to 23 rep
peer000       crepd         Mode has changed from 25 fin_rep to 23 rep
peer000       manipulatord  

peer001       cmond         Mode has changed from 25 fin_rep to 23 rep
peer001       cpeerd        Mode has changed from 25 fin_rep to 23 rep
peer001       crepd         Mode has changed from 25 fin_rep to 23 rep
peer001       manipulatord  

peer002       cmond         Mode has changed from 25 fin_rep to 23 rep
peer002       cpeerd        Mode has changed from 25 fin_rep to 23 rep
peer002       crepd         Mode has changed from 25 fin_rep to 23 rep
peer002       manipulatord  

[ 2012-05-31 17:32:16 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       23 rep        off           off           
peer000       cpeerd        running       23 rep        off           off           
peer000       crepd         running       23 rep        off           off           
peer000       manipulatord  running                                                 

peer001       cmond         running       23 rep        off           off           
peer001       cpeerd        running       23 rep        off           off           
peer001       crepd         running       23 rep        off           off           
peer001       manipulatord  running                                                 

peer002       cmond         running       23 rep        off           off           
peer002       cpeerd        running       23 rep        off           off           
peer002       crepd         running       23 rep        off           off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:32:19 +0900  Descending the mode to 20 readonly ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         Mode has changed from 23 rep to 20 readonly
peer000       cpeerd        Mode has changed from 23 rep to 20 readonly
peer000       crepd         Mode has changed from 23 rep to 20 readonly
peer000       manipulatord  

peer001       cmond         Mode has changed from 23 rep to 20 readonly
peer001       cpeerd        Mode has changed from 23 rep to 20 readonly
peer001       crepd         Mode has changed from 23 rep to 20 readonly
peer001       manipulatord  

peer002       cmond         Mode has changed from 23 rep to 20 readonly
peer002       cpeerd        Mode has changed from 23 rep to 20 readonly
peer002       crepd         Mode has changed from 23 rep to 20 readonly
peer002       manipulatord  

[ 2012-05-31 17:32:21 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       20 readonly   off           off           
peer000       cpeerd        running       20 readonly   off           off           
peer000       crepd         running       20 readonly   off           off           
peer000       manipulatord  running                                                 

peer001       cmond         running       20 readonly   off           off           
peer001       cpeerd        running       20 readonly   off           off           
peer001       crepd         running       20 readonly   off           off           
peer001       manipulatord  running                                                 

peer002       cmond         running       20 readonly   off           off           
peer002       cpeerd        running       20 readonly   off           off           
peer002       crepd         running       20 readonly   off           off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:32:26 +0900  Descending the mode to 10 offline ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         Mode has changed from 20 readonly to 10 offline
peer000       cpeerd        Mode has changed from 20 readonly to 10 offline
peer000       crepd         Mode has changed from 20 readonly to 10 offline
peer000       manipulatord  

[ 2012-05-31 17:32:26 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       10 offline    off           off           
peer000       cpeerd        running       10 offline    off           off           
peer000       crepd         running       10 offline    off           off           
peer000       manipulatord  running                                                 

peer001       cmond         running       20 readonly   off           off           
peer001       cpeerd        running       20 readonly   off           off           
peer001       crepd         running       20 readonly   off           off           
peer001       manipulatord  running                                                 

peer002       cmond         running       20 readonly   off           off           
peer002       cpeerd        running       20 readonly   off           off           
peer002       crepd         running       20 readonly   off           off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:32:29 +0900  Stopping the daemon ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         status=0 peer000 cmond is going to shutdown ... 
peer000       cpeerd        status=0 peer000 cpeerd is going to shutdown ... 
peer000       crepd         status=0 peer000 crepd is going to shutdown ... 
peer000       manipulatord  status=0 Stop Castoro-Manipulator ... *** Stopping Castoro::Manipulator daemon... *** done.

[ 2012-05-31 17:32:32 +0900  Daemon processes ]
HOSTNAME      DAEMON             UID   PID  PPID   C    STIME TTY         TIME CMD
peer000       cmond         
peer000       cpeerd        
peer000       crepd         
peer000       manipulatord  

peer001       cmond            quanp 16101 11545   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cmond
peer001       cpeerd           quanp 16119 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer001       crepd            quanp 16115 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer001       manipulatord      root 16094 11545   0 17:28:07 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

peer002       cmond            quanp 16114 11970   0 17:28:09 ?           0:01 /usr/local/bin/ruby /usr/local/bin/cmond
peer002       cpeerd           quanp 16108 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer002       crepd            quanp 16103 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer002       manipulatord      root 16100 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

[ 2012-05-31 17:32:33 +0900  Turning the autopilot auto ]
HOSTNAME      DAEMON        RESULTS
peer001       cmond         Autopilot has changed from off to auto
peer001       cpeerd        Autopilot has changed from off to auto
peer001       crepd         Autopilot has changed from off to auto
peer001       manipulatord  

peer002       cmond         Autopilot has changed from off to auto
peer002       cpeerd        Autopilot has changed from off to auto
peer002       crepd         Autopilot has changed from off to auto
peer002       manipulatord  

[ 2012-05-31 17:32:35 +0900  Daemon processes ]
HOSTNAME      DAEMON             UID   PID  PPID   C    STIME TTY         TIME CMD
peer000       cmond         
peer000       cpeerd        
peer000       crepd         
peer000       manipulatord  

peer001       cmond            quanp 16101 11545   0 17:28:08 ?           0:01 /usr/local/bin/ruby /usr/local/bin/cmond
peer001       cpeerd           quanp 16119 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer001       crepd            quanp 16115 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer001       manipulatord      root 16094 11545   0 17:28:07 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

peer002       cmond            quanp 16114 11970   0 17:28:09 ?           0:01 /usr/local/bin/ruby /usr/local/bin/cmond
peer002       cpeerd           quanp 16108 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer002       crepd            quanp 16103 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer002       manipulatord      root 16100 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

[ 2012-05-31 17:32:35 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         stopped       Connection refused or else: errno=146 127.0.0.1:30100                            
peer000       cpeerd        stopped       Connection refused or else: errno=146 127.0.0.1:30102                            
peer000       crepd         stopped       Connection refused or else: errno=146 127.0.0.1:30103                            
peer000       manipulatord  stopped                                                 

peer001       cmond         running       20 readonly   auto          off           
peer001       cpeerd        running       20 readonly   auto          off           
peer001       crepd         running       20 readonly   auto          off           
peer001       manipulatord  running                                                 

peer002       cmond         running       20 readonly   auto          off           
peer002       cpeerd        running       20 readonly   auto          off           
peer002       crepd         running       20 readonly   auto          off           
peer002       manipulatord  running                                                 


Succeeded:
 pgctl stop peer000 peer001 peer002

</pre>

h3. Starting the only peer

<pre>
$ pgctl start peer000 peer001 peer002
[ 2012-05-31 17:33:21 +0900  Daemon processes ]
HOSTNAME      DAEMON             UID   PID  PPID   C    STIME TTY         TIME CMD
peer000       cmond         
peer000       cpeerd        
peer000       crepd         
peer000       manipulatord  

peer001       cmond            quanp 16101 11545   0 17:28:08 ?           0:01 /usr/local/bin/ruby /usr/local/bin/cmond
peer001       cpeerd           quanp 16119 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer001       crepd            quanp 16115 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer001       manipulatord      root 16094 11545   0 17:28:07 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

peer002       cmond            quanp 16114 11970   0 17:28:09 ?           0:01 /usr/local/bin/ruby /usr/local/bin/cmond
peer002       cpeerd           quanp 16108 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer002       crepd            quanp 16103 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer002       manipulatord      root 16100 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

[ 2012-05-31 17:33:21 +0900  Starting the daemon ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         status=0 Starting cmond ... OK 
peer000       cpeerd        status=0 2012-05-31T17:33:23+09:00.563383 peer000 NOTICE Loading configration file: /etc/castoro/peer.conf Starting cpeerd ... OK 
peer000       crepd         status=0 2012-05-31T17:33:23+09:00.788873 peer000 NOTICE Loading configration file: /etc/castoro/peer.conf Starting crepd ... OK 
peer000       manipulatord  status=0 Start Castoro-Manipulator ... *** Starting Castoro::Manipulator daemon... *** done.

[ 2012-05-31 17:33:27 +0900  Daemon processes ]
HOSTNAME      DAEMON             UID   PID  PPID   C    STIME TTY         TIME CMD
peer000       cmond            quanp 16651  4604   0 17:33:24 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cmond
peer000       cpeerd           quanp 16654  4604   0 17:33:24 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer000       crepd            quanp 16656  4604   0 17:33:24 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer000       manipulatord      root 16649  4604   0 17:33:23 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

peer001       cmond            quanp 16101 11545   0 17:28:08 ?           0:01 /usr/local/bin/ruby /usr/local/bin/cmond
peer001       cpeerd           quanp 16119 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer001       crepd            quanp 16115 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer001       manipulatord      root 16094 11545   0 17:28:07 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

peer002       cmond            quanp 16114 11970   0 17:28:09 ?           0:01 /usr/local/bin/ruby /usr/local/bin/cmond
peer002       cpeerd           quanp 16108 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer002       crepd            quanp 16103 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer002       manipulatord      root 16100 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

[ 2012-05-31 17:33:27 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       10 offline    auto          off           
peer000       cpeerd        running       10 offline    auto          off           
peer000       crepd         running       10 offline    auto          off           
peer000       manipulatord  running                                                 

peer001       cmond         running       20 readonly   auto          off           
peer001       cpeerd        running       20 readonly   auto          off           
peer001       crepd         running       20 readonly   auto          off           
peer001       manipulatord  running                                                 

peer002       cmond         running       20 readonly   auto          off           
peer002       cpeerd        running       20 readonly   auto          off           
peer002       crepd         running       20 readonly   auto          off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:33:31 +0900  Turning the autopilot off ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         Autopilot has changed from auto to off
peer000       cpeerd        Autopilot has changed from auto to off
peer000       crepd         Autopilot has changed from auto to off
peer000       manipulatord  

peer001       cmond         Autopilot has changed from auto to off
peer001       cpeerd        Autopilot has changed from auto to off
peer001       crepd         Autopilot has changed from auto to off
peer001       manipulatord  

peer002       cmond         Autopilot has changed from auto to off
peer002       cpeerd        Autopilot has changed from auto to off
peer002       crepd         Autopilot has changed from auto to off
peer002       manipulatord  

[ 2012-05-31 17:33:33 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       10 offline    off           off           
peer000       cpeerd        running       10 offline    off           off           
peer000       crepd         running       10 offline    off           off           
peer000       manipulatord  running                                                 

peer001       cmond         running       20 readonly   off           off           
peer001       cpeerd        running       20 readonly   off           off           
peer001       crepd         running       20 readonly   off           off           
peer001       manipulatord  running                                                 

peer002       cmond         running       20 readonly   off           off           
peer002       cpeerd        running       20 readonly   off           off           
peer002       crepd         running       20 readonly   off           off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:33:36 +0900  Ascending the mode to 30 online ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         Mode has changed from 10 offline to 30 online
peer000       cpeerd        Mode has changed from 10 offline to 30 online
peer000       crepd         Mode has changed from 10 offline to 30 online
peer000       manipulatord  

peer001       cmond         Mode has changed from 20 readonly to 30 online
peer001       cpeerd        Mode has changed from 20 readonly to 30 online
peer001       crepd         Mode has changed from 20 readonly to 30 online
peer001       manipulatord  

peer002       cmond         Mode has changed from 20 readonly to 30 online
peer002       cpeerd        Mode has changed from 20 readonly to 30 online
peer002       crepd         Mode has changed from 20 readonly to 30 online
peer002       manipulatord  

[ 2012-05-31 17:33:38 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       30 online     off           off           
peer000       cpeerd        running       30 online     off           off           
peer000       crepd         running       30 online     off           off           
peer000       manipulatord  running                                                 

peer001       cmond         running       30 online     off           off           
peer001       cpeerd        running       30 online     off           off           
peer001       crepd         running       30 online     off           off           
peer001       manipulatord  running                                                 

peer002       cmond         running       30 online     off           off           
peer002       cpeerd        running       30 online     off           off           
peer002       crepd         running       30 online     off           off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:33:41 +0900  Turning the autopilot auto ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         Autopilot has changed from off to auto
peer000       cpeerd        Autopilot has changed from off to auto
peer000       crepd         Autopilot has changed from off to auto
peer000       manipulatord  

peer001       cmond         Autopilot has changed from off to auto
peer001       cpeerd        Autopilot has changed from off to auto
peer001       crepd         Autopilot has changed from off to auto
peer001       manipulatord  

peer002       cmond         Autopilot has changed from off to auto
peer002       cpeerd        Autopilot has changed from off to auto
peer002       crepd         Autopilot has changed from off to auto
peer002       manipulatord  

[ 2012-05-31 17:33:43 +0900  Daemon processes ]
HOSTNAME      DAEMON             UID   PID  PPID   C    STIME TTY         TIME CMD
peer000       cmond            quanp 16651  4604   0 17:33:24 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cmond
peer000       cpeerd           quanp 16654  4604   0 17:33:24 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer000       crepd            quanp 16656  4604   0 17:33:24 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer000       manipulatord      root 16649  4604   0 17:33:23 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

peer001       cmond            quanp 16101 11545   0 17:28:08 ?           0:01 /usr/local/bin/ruby /usr/local/bin/cmond
peer001       cpeerd           quanp 16119 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer001       crepd            quanp 16115 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer001       manipulatord      root 16094 11545   0 17:28:07 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

peer002       cmond            quanp 16114 11970   0 17:28:09 ?           0:01 /usr/local/bin/ruby /usr/local/bin/cmond
peer002       cpeerd           quanp 16108 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer002       crepd            quanp 16103 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer002       manipulatord      root 16100 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

[ 2012-05-31 17:33:43 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       30 online     auto          off           
peer000       cpeerd        running       30 online     auto          off           
peer000       crepd         running       30 online     auto          off           
peer000       manipulatord  running                                                 

peer001       cmond         running       30 online     auto          off           
peer001       cpeerd        running       30 online     auto          off           
peer001       crepd         running       30 online     auto          off           
peer001       manipulatord  running                                                 

peer002       cmond         running       30 online     auto          off           
peer002       cpeerd        running       30 online     auto          off           
peer002       crepd         running       30 online     auto          off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:33:46 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       30 online     auto          off           
peer000       cpeerd        running       30 online     auto          off           
peer000       crepd         running       30 online     auto          off           
peer000       manipulatord  running                                                 

peer001       cmond         running       30 online     auto          off           
peer001       cpeerd        running       30 online     auto          off           
peer001       crepd         running       30 online     auto          off           
peer001       manipulatord  running                                                 

peer002       cmond         running       30 online     auto          off           
peer002       cpeerd        running       30 online     auto          off           
peer002       crepd         running       30 online     auto          off           
peer002       manipulatord  running                                                 


Succeeded:
 pgctl start peer000 peer001 peer002

</pre>

h3. Stopping every peer of the peer group

<pre>
$ pgctl stopall peer000 peer001 peer002
[ 2012-05-31 17:34:21 +0900  Daemon processes ]
HOSTNAME      DAEMON             UID   PID  PPID   C    STIME TTY         TIME CMD
peer000       cmond            quanp 16651  4604   0 17:33:24 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cmond
peer000       cpeerd           quanp 16654  4604   0 17:33:24 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer000       crepd            quanp 16656  4604   0 17:33:24 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer000       manipulatord      root 16649  4604   0 17:33:23 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

peer001       cmond            quanp 16101 11545   0 17:28:08 ?           0:01 /usr/local/bin/ruby /usr/local/bin/cmond
peer001       cpeerd           quanp 16119 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer001       crepd            quanp 16115 11545   0 17:28:09 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer001       manipulatord      root 16094 11545   0 17:28:07 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

peer002       cmond            quanp 16114 11970   0 17:28:09 ?           0:01 /usr/local/bin/ruby /usr/local/bin/cmond
peer002       cpeerd           quanp 16108 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/cpeerd
peer002       crepd            quanp 16103 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/crepd
peer002       manipulatord      root 16100 11970   0 17:28:08 ?           0:00 /usr/local/bin/ruby /usr/local/bin/castoro-manipulator start -c /etc/castoro/ma

[ 2012-05-31 17:34:22 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       30 online     auto          off           
peer000       cpeerd        running       30 online     auto          off           
peer000       crepd         running       30 online     auto          off           
peer000       manipulatord  running                                                 

peer001       cmond         running       30 online     auto          off           
peer001       cpeerd        running       30 online     auto          off           
peer001       crepd         running       30 online     auto          off           
peer001       manipulatord  running                                                 

peer002       cmond         running       30 online     auto          off           
peer002       cpeerd        running       30 online     auto          off           
peer002       crepd         running       30 online     auto          off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:34:23 +0900  Turning the autopilot off ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         Autopilot has changed from auto to off
peer000       cpeerd        Autopilot has changed from auto to off
peer000       crepd         Autopilot has changed from auto to off
peer000       manipulatord  

peer001       cmond         Autopilot has changed from auto to off
peer001       cpeerd        Autopilot has changed from auto to off
peer001       crepd         Autopilot has changed from auto to off
peer001       manipulatord  

peer002       cmond         Autopilot has changed from auto to off
peer002       cpeerd        Autopilot has changed from auto to off
peer002       crepd         Autopilot has changed from auto to off
peer002       manipulatord  

[ 2012-05-31 17:34:25 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       30 online     off           off           
peer000       cpeerd        running       30 online     off           off           
peer000       crepd         running       30 online     off           off           
peer000       manipulatord  running                                                 

peer001       cmond         running       30 online     off           off           
peer001       cpeerd        running       30 online     off           off           
peer001       crepd         running       30 online     off           off           
peer001       manipulatord  running                                                 

peer002       cmond         running       30 online     off           off           
peer002       cpeerd        running       30 online     off           off           
peer002       crepd         running       30 online     off           off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:34:28 +0900  Descending the mode to 25 fin_rep ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         Mode has changed from 30 online to 25 fin_rep
peer000       cpeerd        Mode has changed from 30 online to 25 fin_rep
peer000       crepd         Mode has changed from 30 online to 25 fin_rep
peer000       manipulatord  

peer001       cmond         Mode has changed from 30 online to 25 fin_rep
peer001       cpeerd        Mode has changed from 30 online to 25 fin_rep
peer001       crepd         Mode has changed from 30 online to 25 fin_rep
peer001       manipulatord  

peer002       cmond         Mode has changed from 30 online to 25 fin_rep
peer002       cpeerd        Mode has changed from 30 online to 25 fin_rep
peer002       crepd         Mode has changed from 30 online to 25 fin_rep
peer002       manipulatord  

[ 2012-05-31 17:34:30 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       25 fin_rep    off           off           
peer000       cpeerd        running       25 fin_rep    off           off           
peer000       crepd         running       25 fin_rep    off           off           
peer000       manipulatord  running                                                 

peer001       cmond         running       25 fin_rep    off           off           
peer001       cpeerd        running       25 fin_rep    off           off           
peer001       crepd         running       25 fin_rep    off           off           
peer001       manipulatord  running                                                 

peer002       cmond         running       25 fin_rep    off           off           
peer002       cpeerd        running       25 fin_rep    off           off           
peer002       crepd         running       25 fin_rep    off           off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:34:33 +0900  Descending the mode to 23 rep ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         Mode has changed from 25 fin_rep to 23 rep
peer000       cpeerd        Mode has changed from 25 fin_rep to 23 rep
peer000       crepd         Mode has changed from 25 fin_rep to 23 rep
peer000       manipulatord  

peer001       cmond         Mode has changed from 25 fin_rep to 23 rep
peer001       cpeerd        Mode has changed from 25 fin_rep to 23 rep
peer001       crepd         Mode has changed from 25 fin_rep to 23 rep
peer001       manipulatord  

peer002       cmond         Mode has changed from 25 fin_rep to 23 rep
peer002       cpeerd        Mode has changed from 25 fin_rep to 23 rep
peer002       crepd         Mode has changed from 25 fin_rep to 23 rep
peer002       manipulatord  

[ 2012-05-31 17:34:35 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       23 rep        off           off           
peer000       cpeerd        running       23 rep        off           off           
peer000       crepd         running       23 rep        off           off           
peer000       manipulatord  running                                                 

peer001       cmond         running       23 rep        off           off           
peer001       cpeerd        running       23 rep        off           off           
peer001       crepd         running       23 rep        off           off           
peer001       manipulatord  running                                                 

peer002       cmond         running       23 rep        off           off           
peer002       cpeerd        running       23 rep        off           off           
peer002       crepd         running       23 rep        off           off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:34:38 +0900  Descending the mode to 20 readonly ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         Mode has changed from 23 rep to 20 readonly
peer000       cpeerd        Mode has changed from 23 rep to 20 readonly
peer000       crepd         Mode has changed from 23 rep to 20 readonly
peer000       manipulatord  

peer001       cmond         Mode has changed from 23 rep to 20 readonly
peer001       cpeerd        Mode has changed from 23 rep to 20 readonly
peer001       crepd         Mode has changed from 23 rep to 20 readonly
peer001       manipulatord  

peer002       cmond         Mode has changed from 23 rep to 20 readonly
peer002       cpeerd        Mode has changed from 23 rep to 20 readonly
peer002       crepd         Mode has changed from 23 rep to 20 readonly
peer002       manipulatord  

[ 2012-05-31 17:34:40 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       20 readonly   off           off           
peer000       cpeerd        running       20 readonly   off           off           
peer000       crepd         running       20 readonly   off           off           
peer000       manipulatord  running                                                 

peer001       cmond         running       20 readonly   off           off           
peer001       cpeerd        running       20 readonly   off           off           
peer001       crepd         running       20 readonly   off           off           
peer001       manipulatord  running                                                 

peer002       cmond         running       20 readonly   off           off           
peer002       cpeerd        running       20 readonly   off           off           
peer002       crepd         running       20 readonly   off           off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:34:45 +0900  Descending the mode to 10 offline ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         Mode has changed from 20 readonly to 10 offline
peer000       cpeerd        Mode has changed from 20 readonly to 10 offline
peer000       crepd         Mode has changed from 20 readonly to 10 offline
peer000       manipulatord  

peer001       cmond         Mode has changed from 20 readonly to 10 offline
peer001       cpeerd        Mode has changed from 20 readonly to 10 offline
peer001       crepd         Mode has changed from 20 readonly to 10 offline
peer001       manipulatord  

peer002       cmond         Mode has changed from 20 readonly to 10 offline
peer002       cpeerd        Mode has changed from 20 readonly to 10 offline
peer002       crepd         Mode has changed from 20 readonly to 10 offline
peer002       manipulatord  

[ 2012-05-31 17:34:47 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         running       10 offline    off           off           
peer000       cpeerd        running       10 offline    off           off           
peer000       crepd         running       10 offline    off           off           
peer000       manipulatord  running                                                 

peer001       cmond         running       10 offline    off           off           
peer001       cpeerd        running       10 offline    off           off           
peer001       crepd         running       10 offline    off           off           
peer001       manipulatord  running                                                 

peer002       cmond         running       10 offline    off           off           
peer002       cpeerd        running       10 offline    off           off           
peer002       crepd         running       10 offline    off           off           
peer002       manipulatord  running                                                 

[ 2012-05-31 17:34:50 +0900  Stopping daemons ]
HOSTNAME      DAEMON        RESULTS
peer000       cmond         status=0 peer000 cmond is going to shutdown ... 
peer000       cpeerd        status=0 peer000 cpeerd is going to shutdown ... 
peer000       crepd         status=0 peer000 crepd is going to shutdown ... 
peer000       manipulatord  status=0 Stop Castoro-Manipulator ... *** Stopping Castoro::Manipulator daemon... *** done.

peer001       cmond         status=0 peer001 cmond is going to shutdown ... Invalid gemspec in [/usr/local/lib/ruby/gems/1.9.1/specifications/json-1.6.1.gemspec]: invalid date format in specification: "2011-09-18 00:00:00.000000000Z"
peer001       cpeerd        status=0 peer001 cpeerd is going to shutdown ... Invalid gemspec in [/usr/local/lib/ruby/gems/1.9.1/specifications/json-1.6.1.gemspec]: invalid date format in specification: "2011-09-18 00:00:00.000000000Z"
peer001       crepd         status=0 peer001 crepd is going to shutdown ... Invalid gemspec in [/usr/local/lib/ruby/gems/1.9.1/specifications/json-1.6.1.gemspec]: invalid date format in specification: "2011-09-18 00:00:00.000000000Z"
peer001       manipulatord  status=0 Stop Castoro-Manipulator ... Invalid gemspec in [/usr/local/lib/ruby/gems/1.9.1/specifications/json-1.6.1.gemspec]: invalid date format in specification: "2011-09-18 00:00:00.000000000Z" *** Stopping Castoro::Manipulator daemon... *** done.

peer002       cmond         status=0 peer002 cmond is going to shutdown ... Invalid gemspec in [/usr/local/lib/ruby/gems/1.9.1/specifications/json-1.6.1.gemspec]: invalid date format in specification: "2011-09-18 00:00:00.000000000Z"
peer002       cpeerd        status=0 peer002 cpeerd is going to shutdown ... Invalid gemspec in [/usr/local/lib/ruby/gems/1.9.1/specifications/json-1.6.1.gemspec]: invalid date format in specification: "2011-09-18 00:00:00.000000000Z"
peer002       crepd         status=0 peer002 crepd is going to shutdown ... Invalid gemspec in [/usr/local/lib/ruby/gems/1.9.1/specifications/json-1.6.1.gemspec]: invalid date format in specification: "2011-09-18 00:00:00.000000000Z"
peer002       manipulatord  status=0 Stop Castoro-Manipulator ... Invalid gemspec in [/usr/local/lib/ruby/gems/1.9.1/specifications/json-1.6.1.gemspec]: invalid date format in specification: "2011-09-18 00:00:00.000000000Z" *** Stopping Castoro::Manipulator daemon... *** done.

[ 2012-05-31 17:34:55 +0900  Daemon processes ]
HOSTNAME      DAEMON             UID   PID  PPID   C    STIME TTY         TIME CMD
peer000       cmond         
peer000       cpeerd        
peer000       crepd         
peer000       manipulatord  

peer001       cmond         
peer001       cpeerd        
peer001       crepd         
peer001       manipulatord  

peer002       cmond         
peer002       cpeerd        
peer002       crepd         
peer002       manipulatord  

[ 2012-05-31 17:34:56 +0900  Status ]
HOSTNAME      DAEMON        ACTIVITY      MODE          AUTOPILOT     DEBUG         
peer000       cmond         stopped       Connection refused or else: errno=146 127.0.0.1:30100                            
peer000       cpeerd        stopped       Connection refused or else: errno=146 127.0.0.1:30102                            
peer000       crepd         stopped       Connection refused or else: errno=146 127.0.0.1:30103                            
peer000       manipulatord  stopped                                                 

peer001       cmond         stopped       Connection refused or else: errno=146 hostname=127.0.0.1 port=30100                            
peer001       cpeerd        stopped       Connection refused or else: errno=146 hostname=127.0.0.1 port=30102                            
peer001       crepd         stopped       Connection refused or else: errno=146 hostname=127.0.0.1 port=30103                            
peer001       manipulatord  stopped                                                 

peer002       cmond         stopped       Connection refused or else: errno=146 hostname=127.0.0.1 port=30100                            
peer002       cpeerd        stopped       Connection refused or else: errno=146 hostname=127.0.0.1 port=30102                            
peer002       crepd         stopped       Connection refused or else: errno=146 hostname=127.0.0.1 port=30103                            
peer002       manipulatord  stopped                                                 


Succeeded:
 pgctl stopall peer000 peer001 peer002

<pre>
